<!DOCTYPE html>
<html>
<head>
  <title>Isia Parade</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="main.css">
</head>




<!-- INIZIO BODY -->

<body>
  <!--GIF DI SFONDO-->
  <div style="position: fixed; top: 26vw; left: -20px; margin: 0px; z-index: -1;">
    <img src="PA.gif" style="height: 85vh; width: auto; opacity: 0.1">
  </div>
  <!--HEADER-->
  <div id="header">
    <div class="leftName">
      <a href="http://www.isiaurbino.net/" target="_blank" style="text-decoration: none; color: lightgrey">ISIA U</a>
    </div>
    <div class="rightName">PARADE 2020</div>
    <div class="underName">Interviste, progetti, playlist. Mer 22—Ven 24.07</div>
    <div id="day22" class="leftName" style="transition:0.5s; width: 42%" onclick="open22()">22</div>
    <div id="day23" class="rightName" style="transition:0.5s; color: red" onclick="open23()">23</div>
    <div id="day24" class="rightName" style="transition:0.5s; float: right; padding-right: 30px; color: lightgrey" onclick="open24()">24</div>
  </div>
  <!--CLOSE HEADER-->

  <!--PRINCIPALE-->
  <div class="livemain_22" style="display: block">
    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Mercoledì 22.07.2020</th>
          <th style="float: right">09:00</th> 
        </tr>
      </table>
      <div class="eventName">Wednesday morning<br>con Silvia Sfligiotti</div>
      <div id="inside" style="display:none">
        <p><iframe width="100%" height="120" src="https://www.mixcloud.com/widget/iframe/?hide_cover=1&hide_artwork=1&feed=%2Fsonosolo%2Ffall-mix%2F" frameborder="0" ></iframe></p>
        <img src="img1.jpg" width="96%">
        <p class="didascalia">una bella immagine.</p>
        <img src="img2.jpg" width="96%">
        <p class="didascalia">un'immagine ancora migliore.</p>
        <img src="img3.jpg" width="96%">
        <div style="display: flex">
          <p class="didascalia">un'immagine urfida.</p>
          <a class="didaUrl" href="http://www.google.com">scopri di più</a>
        </div>
      </div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Mercoledì 22.07.2020</th>
          <th style="float: right">10:00</th> 
        </tr>
      </table>
      <div class="eventName">Valto’s Bookshop Corner<br>con Francesco Valtolina</div>
      <div id="inside" style="display:none">
        <p><iframe width="100%" height="120" src="https://www.mixcloud.com/widget/iframe/?hide_cover=1&light=1&feed=%2Fsonosolo%2Ffall-mix%2F" frameborder="0" ></iframe></p>
        <img src="img3.jpg" width="70%">
        <img src="img1.jpg" width="20%">
        <img src="img2.jpg" width="40%" style="margin-left: 80px">
      </div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Mercoledì 22.07.2020</th>
          <th style="float: right">11:00</th> 
        </tr>
      </table>
      <div class="eventName">Esisto anche se non vuoi<br>&nbsp;</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Mercoledì 22.07.2020</th>
          <th style="float: right">11:30</th> 
        </tr>
      </table>
      <div class="eventName">ISIA U x Santarcangelo<br>&nbsp;</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Mercoledì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Soundscape a cura<br>di Grotta Veterano</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Mercoledì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Showcase progetti 2019/20<br>&nbsp;</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Mercoledì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Showcase Tesi di Laurea<br>&nbsp;</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Mercoledì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Showcase progetti 2019/20<br>&nbsp;</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Mercoledì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Selezione musicale a cura<br>di Godblesscomputers</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Mercoledì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Patrick Lacey in talk<br>con Finn Williams</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Mercoledì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Music sounds better with U<br>– DJ Golpe & Veridis</div>
    </div>

  </div>


  <div class="livemain_23" style="display:none">
    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Giovedì 22.07.2020</th>
          <th style="float: right">09:00</th> 
        </tr>
      </table>
      <div class="eventName">Thursday morning<br>con Marta Sironi</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Giovedì 22.07.2020</th>
          <th style="float: right">10:00</th> 
        </tr>
      </table>
      <div class="eventName">Book selection<br>con Silvana Sola</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Giovedì 22.07.2020</th>
          <th style="float: right">11:00</th> 
        </tr>
      </table>
      <div class="eventName">Unconventional Posting<br>&nbsp;</div>
      <div class="inside" style="display:none">
        <!--qui contenuti-->
      </div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Giovedì 22.07.2020</th>
          <th style="float: right">11:30</th> 
        </tr>
      </table>
      <div class="eventName">Figure del presente<br>&nbsp;</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Giovedì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Soundscape a cura<br>di Grotta Veterano</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Giovedì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Showcase progetti 2019/20<br>&nbsp;</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Giovedì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Showcase Tesi di Laurea<br>&nbsp;</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Giovedì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Showcase progetti 2019/20<br>&nbsp;</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Giovedì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Selezione musicale<br>a cura di Ayce Bio</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Giovedì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">DJ set a cura<br>di Congarou</div>
    </div>

  </div>



  <div class="livemain_24" style="display:none">
    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Venerdì 22.07.2020</th>
          <th style="float: right">09:00</th> 
        </tr>
      </table>
      <div class="eventName">Friday morning<br>con Magda Guidi e Mara Cerri</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Venerdì 22.07.2020</th>
          <th style="float: right">10:00</th> 
        </tr>
      </table>
      <div class="eventName">Book selection<br>con Giovanna Silva</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Venerdì 22.07.2020</th>
          <th style="float: right">11:00</th> 
        </tr>
      </table>
      <div class="eventName">I padroni della Riviera<br>&nbsp;</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Venerdì 22.07.2020</th>
          <th style="float: right">11:30</th> 
        </tr>
      </table>
      <div class="eventName">Capsula<br>&nbsp;</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Venerdì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Soundscape a cura<br>di Grotta Veterano</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Venerdì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Showcase progetti 2019/20<br>&nbsp;</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Venerdì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Showcase Tesi di Laurea<br>&nbsp;</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Venerdì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Showcase progetti 2019/20<br>&nbsp;</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Venerdì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Selezione musicale a cura<br>di Palm Wine (Invernomuto)</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Venerdì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">Jonathan Pierini in talk<br>con Francesco Zurlo</div>
    </div>

    <div class="listElement">
      <table style="width:100%; background-color: black">
        <tr class="eventDate">
          <th>Venerdì 22.07.2020</th>
          <th style="float: right">12:00</th> 
        </tr>
      </table>
      <div class="eventName">DJ set a cura<br>di Flexing Moment</div>
    </div>

  </div>

  <!--CLOSE PRINCIPALE-->

  <!--FOOTER>
  <div id="footer">
    <marquee class="about" scrollamount = 8 >UP NEXT: i dialoghi di Sonnoli</marquee>
  </div>
  <CLOSE FOOTER-->

</body>
<!--CLOSE BODY-->

<script>

  //SCRIPT TO ACTIVATE EVENTS
  var now = new Date();
  var start = 5 //hour PARADE starts
  for (i = start; i < now.getHours(); i++) {
    document.getElementsByClassName('listElement')[i-start].style.color = "black";
  }
  for (i = document.getElementsByClassName('listElement').length; i > now.getHours()-start; i--) {
    document.getElementsByClassName('listElement')[i-1].style.color = "lightgrey";
  }


  //SCRIPT TO OPEN EVENTS
  var acc = document.getElementsByClassName('listElement');
  for (i = 0; i < acc.length; i++) {
    acc[i].addEventListener('click', function() {

      if ((this.style.color != 'lightgrey') && (this.children[2].style.display != 'inline')) {
        this.children[2].style.display = "inline";
      } else {
        this.children[2].style.display = "none";
      }
    });
  }

  //SCRIPTS TO CHANGE THE DAY
  function open22() {
    document.getElementsByClassName("livemain_22")[0].style.display = "block";
    document.getElementsByClassName("livemain_23")[0].style.display = "none";
    document.getElementsByClassName("livemain_24")[0].style.display = "none";
    document.getElementById("day22").style.color = "black";
    document.getElementById("day22").innerHTML = "22";
    document.getElementById("day23").style.color = "lightgrey";
    document.getElementById("day23").innerHTML = "23";
    document.getElementById("day24").style.color = "lightgrey";
    document.getElementById("day24").innerHTML = "24";
    //document.getElementById("day22").style.width = "42%";
  }
  function open23() {
    document.getElementsByClassName("livemain_23")[0].style.display = "block";
    document.getElementsByClassName("livemain_22")[0].style.display = "none";
    document.getElementsByClassName("livemain_24")[0].style.display = "none";
    document.getElementById("day23").style.color = "black";
    document.getElementById("day23").innerHTML = "23";
    document.getElementById("day22").style.color = "lightgrey";
    document.getElementById("day22").innerHTML = "22";
    document.getElementById("day24").style.color = "lightgrey";
    document.getElementById("day24").innerHTML = "24";
    //document.getElementById("day22").style.width = "36%";
  }
  function open24() {
    document.getElementsByClassName("livemain_24")[0].style.display = "block";
    document.getElementsByClassName("livemain_22")[0].style.display = "none";
    document.getElementsByClassName("livemain_23")[0].style.display = "none";
    document.getElementById("day24").style.color = "black";
    document.getElementById("day24").innerHTML = "24";
    document.getElementById("day22").style.color = "lightgrey";
    document.getElementById("day22").innerHTML = "22";
    document.getElementById("day23").style.color = "lightgrey";
    document.getElementById("day23").innerHTML = "23";
    //document.getElementById("day22").style.width = "42%";
  }


  //SCRIPT AMIR
  const isAudio = (file) => {
    return file.metadata.mimeType.indexOf("audio/") > -1;
  }

  function createAudioElement(file, whatToAppendTo) {
    const audioElement = document.createElement("audio");

    audioElement.setAttribute("controls", "true");

    file.content.urls.forEach(urlObj => {
      const sourceElement = document.createElement("source");
      sourceElement.src = urlObj.url;
      sourceElement.type = urlObj.format.type;

      audioElement.append(sourceElement);

    })

    whatToAppendTo.append(audioElement);
  }

  const isImage = (file) => {
    return file.metadata.mimeType.indexOf("image/") > -1;
  }

  function createImage( image, whatToAppendTo){

    // create a element 
    const textContainer = document.createElement( "div" );
    textContainer.className = "text"

    const titleElement = document.createElement("h2");
    titleElement.className = "title";

    titleElement.innerHTML = image.metadata.name;


    const bodyTextElement = document.createElement("div");
    bodyTextElement.className = "body-text";
    bodyTextElement.innerHTML = image.content.html;

    textContainer.append(titleElement);
    textContainer.append(bodyTextElement);

    whatToAppendTo.append(textContainer);
  }




  (async() => {
    const API_URL = "https://dp.isiaurbino.net/api/parade/23-luglio-2020/3-unconventional-posting";
    const unconv = await fetch(API_URL).then(r => r.json());
    //console.log(unconv.data);

    unconv.data.forEach((file) => {
      if( isImage(file) ){
        //createImageElement(file);
        console.log("ciao");
      } if( isAudio(file) ) {
        createAudioElement(file, document.body.getElementsByClassName("livemain_23")[0].getElementsByClassName("listElement")[2].getElementsByClassName("inside")[0]);
      }
    });
  })();

  console.log(document.body.getElementsByClassName("livemain_23")[0].getElementsByClassName("listElement")[2].getElementsByClassName("inside")[0].innerHTML);
  //console.log(document.getElementById("inside"));


</script>

</html>
o
